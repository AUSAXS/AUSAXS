load {
    pdb tests/files/6lyz.pdb
    saxs tests/files/2epe.dat
    split chain
}

symmetry {
    type c3
    bodies 0 1 2
}

generate_constraints {
    distance_constraint cm
}

loop 15
    parameter {
        strategy rotations_and_translations
        max_rotation 0.15
        max_translation 0.8
        decay none
    }
    
    selection random_constraint
    transform rigid
    optimize_once
    
    every 3
        save tests/output/rigidbody/symmetry_step_%.pdb
        print "Step %i completed" blue
    end
end

save tests/output/rigidbody/symmetry_final.pdb
